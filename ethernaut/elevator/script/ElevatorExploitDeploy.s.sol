// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Script, console} from "forge-std/Script.sol";
import {Elevator} from "../src/Elevator.sol";
import {ElevatorExploit} from "../src/Elevator.e.sol";

contract ElevatorExploitDeployScript is Script {
    bool private isCalledOnce;
    Elevator public elevator;
    ElevatorExploit private exploit;

    function setUp() public {
        elevator = Elevator(vm.envAddress("TARGET_CONTRACT_ADDRESS"));
        console.log("Elevator address:", address(elevator));
    }

    function run() public {
        vm.startBroadcast();

        exploit = new ElevatorExploit(address(elevator));
        console.log("Exploit address:", address(exploit));

        vm.stopBroadcast();
    }
}
